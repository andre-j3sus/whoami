---
import { Icon } from "astro-icon/components";
import type { Skill } from "@/data/skills";

interface Props {
  skill: Skill;
  size?: "sm" | "md";
}

const { skill, size = "md" } = Astro.props;
const Tag = skill.url ? "a" : "div";
const linkProps = skill.url ? { href: skill.url, target: "_blank", rel: "noopener noreferrer" } : {};

const sizeClasses = {
  sm: "gap-1.5 rounded-lg bg-[var(--color-bg-secondary)] px-2.5 py-1.5 text-xs",
  md: "gap-2 rounded-lg bg-[var(--color-bg-secondary)] px-3 py-2 text-sm",
};
const iconSize = size === "sm" ? 14 : 18;
---

<Tag
  {...linkProps}
  class:list={[
    "flex items-center transition-transform duration-200 hover:scale-105",
    sizeClasses[size],
  ]}
>
  <Icon
    name={skill.icon.includes(":") ? skill.icon : `simple-icons:${skill.icon}`}
    size={iconSize}
    style={`color: ${skill.color};${skill.darkColor ? ` --skill-dark: ${skill.darkColor};` : ""}`}
  />
  <span class="text-[var(--color-text-secondary)]">{skill.name}</span>
</Tag>
